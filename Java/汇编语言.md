## 汇编语言

汇编语言是各种CPU提供的机器指令的助记符的集合，人们可以通过汇编语言直接控制硬件系统进行工作

## 机器语言

机器语言是机器指令的集合，机器指令就是一台机器可以正确执行的命令，机器指令由一列二进制数字组成，计算机将这些二进制数字转变为一列高低电平，使得计算机的电子器件受到驱动，进行运算执行。

```
每一种微处理器（CPU）由于其硬件设计及内部结构的不同，就需要用不同的电平脉冲来控制，所有每一种CPU都有自己的机器语言
```

## 汇编语言的组成

```
1、汇编指令：机器指令的助记符，有对应的机器指令
2、伪指令：没有对应的机器指令，由编译器执行，计算机不执行
3、其他符号：如+、-、*、/等，有编译器识别，没有对应的机器指令

汇编语言的核心是汇编指令，它决定了汇编语言的特性
```

*存储器被划分成多个存储单元，存储单元从零开始顺序编号，这些编号可以看作是存储单元在存储器中的地址*



控制总线是一些不同控制线的集合，有多少根控制总线，就意味着CPU提供了对外部器件的多少种控制，所以，控制总线的宽度决定了CPU对外部器件的控制能力

## 内存地址空间

```
内存地址空间就是CPU所能够读写的存储单元的大小，内存地址空间的大小受CPU地址总线宽度的限制。
地址总线为20，即内存地址空间为1MB
```

`一个字由两个字节组成（高位字节和低位字节）`

## 物理地址

```
每一个内存单元都有一个唯一的地址，这个唯一地址就是物理地址
```

$$
物理地址 = 段地址(cs) * 16 + 偏移地址(ip)
$$

内存单元是字节单元`

## 字单元

```
字单元就是存放一个字型数据（16位）的内存单元，由两个地址连续的内存单元组成
```

`CPU不支持将数据直接送入段寄存器中`

`栈操作都是以字为单位的`

```
汇编语言源程序中包含两种指令（汇编指令和伪指令）
汇编指令有对应的机器指令，最终被编译成机器指令，会被CPU执行
伪指令没有对应的机器指令，不会被CPU执行

伪指令由编译器来执行，编译器根据伪指令来进行相关的编译工作
```

一个汇编源程序由多个段组成，这些段被用来存放代码，数据或栈空间来使用。

伪指令

```
段名 segment
	.
	.
段名 ends
segment和ends的功能是定义一个段，segment说明一个段开始，ends说明一个段结束

end是一个汇编程序的结束标记，编译器在编译汇编程序的过程中，如果碰到伪指令end，就结束对源程序的编译

assume伪指令的含义是“假设”，它假设某一段寄存器和程序中的某一个用segment..ends定义的段相关联。
assume将有特定用途的段和相关的段寄存器关联起来
```

```
完整地描述一个内存单元，需要两种信息：
1、内存单元的地址
2、内存单元的长度（类型）
```

## Loop指令

```java
loop指令的格式：loop 标号
loop为“循环”的意思，通常使用loop指令来实现循环功能，cx中存放循环的次数
//汇编语言中，标号代表一个地址

CPU执行loop指令时，要进行两步操作；
1、(cx)=(cx-1)   //(cx)代表寄存器cx中的值
2、判断cx中的值，不为零则转至标号处执行程序，如果为零则向下执行
```

`在汇编程序中，数据不能以字母开头`

CS：IP指向程序的第一天指令

## 段前缀

```
出现在访问内存单元的指令中，用于显示地指明内存单元的段地址的"ds:"、"cs:"..在汇编语言中称为段前缀
```

## and和or指令

```
and指令：逻辑与指令，按位进行与运算。
逻辑与运算：同位的值全为1则结果为1，否则为0

or指令：逻辑或指令，按位进行或运算
逻辑或运算：同位值有一个为1则结果为1，全为0则结果为0
```

```
可以用'..'的方式指明数据时以字符的形式给出的，编译器将把它们转化为相对应的ASCII码
```

## 寻址方式

```
直接寻址，寄存器间接寻址，寄存器相对寻址，基址变址寻址，相对基址变址寻址
```

在机器指令中要指明，指令进行的是字操作还是字节操作。

```
1、通过寄存器名指明要处理的数据的尺寸
2、在没有寄存器名存在的情况下，用操作符X ptr 指明内存单元的长度，X在汇编语言中可以是word或byte

栈只能进行字操作
```

## 转移指令

```
可以修改IP，或同时修改CS和IP的指令统称为转移指令，转移指令就是可以控制CPU执行内存中某处代码的指令
```

## offset操作符

```
操作符offset在汇编语言中是由编译器处理的符号，它的功能是取得标号的偏移地址
```

